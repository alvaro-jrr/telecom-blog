---
import PostMetaData from "@/components/PostMetaData.astro";
import { SITE_TITLE } from "@/consts";
import { formatList } from "@/lib/utils";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import BaseLayout from "./BaseLayout.astro";

type Props = CollectionEntry<"blog">["data"];

const post = Astro.props;
---

<BaseLayout
	title={`${post.title} | ${SITE_TITLE}`}
	description={post.description}
	author={formatList({ list: post.authors })}
>
	<article class="space-y-20 py-20">
		<section class="space-y-20">
			<div class="space-y-4 sm:text-center">
				<p class="text-muted-foreground">Art√≠culo</p>

				<h1 class="text-4xl font-bold">{post.title}</h1>
			</div>

			<PostMetaData {...post} />

			{
				post.hero && (
					<Image
						width={post.hero.width}
						height={post.hero.height}
						src={post.hero.src}
						alt={post.hero.alt}
						class="max-h-72 rounded-md object-cover"
						loading="eager"
					/>
				)
			}
		</section>

		<div class="article-content">
			<slot />
		</div>
	</article>
</BaseLayout>
